#### 目录介绍
- 01.该库具有的功能
- 02.该库优势分析
- 03.该库如何使用
- 04.降低非必要crash
- 05.异常恢复原理
- 06.后续的需求说明
- 07.异常栈轨迹原理




### 01.该库具有的功能
- 异常崩溃后思考的一些问题
    - 1.是否需要恢复activity栈，以及所在崩溃页面数据
    - 2.crash信息保存和异常捕获，是否和百度bug崩溃统计sdk等兼容
    - 3.是否要回到栈顶部的那个activity
    - 4.应用重启提示弹窗是否可以自定义，或者直接去掉
    - 5.异常崩溃如何友好退出



### 02.该库优势分析




### 03.该库如何使用
- 初始化代码如下所示。建议在Application中初始化……
    ``` java
    CrashHandler.getInstance().init(this, new CrashListener() {
        /**
         * 重启app
         */
        @Override
        public void againStartApp() {
            CrashToolUtils.reStartApp1(App.this,1000);
            //CrashToolUtils.reStartApp2(App.this,1000, MainActivity.class);
            //CrashToolUtils.reStartApp3(AppManager.getAppManager().currentActivity());
        }

        /**
         * 自定义上传crash，支持开发者上传自己捕获的crash数据
         * @param ex                        ex
         */
        @Override
        public void recordException(Throwable ex) {
            //自定义上传crash，支持开发者上传自己捕获的crash数据
            //StatService.recordException(getApplication(), ex);
        }
    });
    ```
- 关于重启App的操作有三种方式
    ```
    //开启一个新的服务KillSelfService，用来重启本APP【使用handler延迟】
    CrashToolUtils.reStartApp1(App.this,1000);
    //用来重启本APP[使用闹钟，整体重启，临时数据清空（推荐）]
    CrashToolUtils.reStartApp2(App.this,1000, MainActivity.class);
    //检索获取项目中LauncherActivity，然后设置该activity的flag和component启动app【推荐】
    CrashToolUtils.reStartApp3(AppManager.getAppManager().currentActivity());
    ```
- 关于崩溃日志记录
    - 日志记录路径：/storage/emulated/0/Android/data/你的包名/cache/crashLogs
    - 日志文件命名：V1.0_2020-09-02_09:05:01_java.lang.NullPointerException.txt【版本+日期+异常】
    - 跳转日志列表页面如下所示，这里调用一行代码即可。点击该页面list条目即可进入详情
    ```
    CrashToolUtils.startCrashListActivity(this);
    ```







